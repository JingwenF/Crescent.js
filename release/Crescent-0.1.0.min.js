./release/*! Crescent - v0.1.0 - Realesed: 2015-04-23 */
!function(){"use strict";var a={version:"0.1.0"},b=function(a){var c=null,d=null,e={};return{_run:function(){c&&("function"==typeof c?c():c instanceof b&&c.run()),run(),d&&("function"==typeof d?d():d instanceof b&&d.run())},run:function(){},runBefore:function(a){return c=a,this},runAfter:function(a){return d=a,this},setParam:function(a,b){return e[a]=b,this},setRequest:function(a){a=a,e=a.params},onCreate:function(){},onResume:function(){},onDestory:function(){}}};a.controller=b;var c=function(){this.params={},this.url=null,this.source=null},d=function(){this.init=function(a){},this.getURL=function(){},this.setURL=function(){}},e=new d;e.getURL=function(){return window.location.href.split("#")[1]||""},e.setURL=function(a){window.location.hash="#!"+a},e.init=function(a){var b=this,c=function(b){0===b.indexOf("!")&&a(b.substring(1))};if("onhashchange"in window)window.onhashchange=function(){c(b.getURL())};else{var d="",e=200,f=function(){var a=b.getURL();perviousURL!=a&&c(a),d=a};setTimeout(function(){f(),setTimeout(arguments.callee,e)},e)}};var f=new d,g=function(){var a,d=null,g="hash",h=[],i={},j=null,k=null,l=function(b){if(b&&""!==b){var d=b.split("/"),e=new c;e.url=b,e.source=j;for(var f=0;f<h.length;f++)if(h[f].url.length==d.length){for(a=0;a<h[f].url.length;a++)if(h[f].url[a]!=d[a]){if(0!==h[f].url[a].indexOf(":"))break;var g=h[f].url[a].substr(1),k=d[a];if(i[g]){var l=i[g](k);k=l?l:k}e.params[g]=k}a==h[f].url.length&&m(h[f].midware,e)}}},m=function(a,c){if("function"==typeof a)a(c),j=a;else{if("object"!=typeof a)throw new Error("No middle ware handle such url:"+url);a instanceof b?(a.setRequest(c),a._run(),j=a):a.run&&(a.run(c),j=a)}};return history.pushState&&"hash"!==g?(k="history",d=f):(k="hash",d=e),d.init(l),{route:function(a,b){h.push({url:a.split("/"),midware:b})},param:function(a,b){i[a]=b},go:function(a){d.setURL(a)},redirect:function(a){}}};a.router=new g,a.addEvent=function(a,b,c){a.attachEvent?(a["e"+b+c]=c,a[b+c]=function(){a["e"+b+c](window.event)},a.attachEvent("on"+b,a[b+c])):a.addEventListener(b,c,!1)},a.removeEvent=function(a,b,c){a.detachEvent?(a.detachEvent("on"+b,a[b+c]),a[b+c]=null):a.removeEventListener(b,c,!1)};a.bindHashChange=function(a){this.onhashChangeFuntions.push(a)},window.C=a}();